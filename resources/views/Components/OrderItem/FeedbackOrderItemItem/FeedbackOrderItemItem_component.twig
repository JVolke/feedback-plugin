<script type="text/javascript">
    (function($) {
        Vue.component('feedback-orderitem-item', {

            template: '#vue-feedback-orderitem-item',
            delimiters: ["${", "}"],
            props: ['item', 'options', 'classes', 'styles'],

            data: function()
            {
                return {
                    isRated: false,
                    ratingValue: 0
                };
            },

            computed: {
                starIds: function() {
                    var ids = [];
                    for(var i = 5; i > 0; i--) {
                        ids.push(
                            {
                                value: i,
                                id: "star-" + i + "-" + this.item.variationId
                            }
                        );
                    }

                    return ids;
                }
            },

            methods: {
                handleRating: function() {
                    var _self = this;
                    vueEventHub.$emit('orderItemAddFeedback', {
                        item: _self.item,
                        ratingValue: _self.ratingValue
                    });
                }
            }
        });
    })(jQuery);
</script>

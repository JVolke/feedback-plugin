(self.webpackChunkplentymarkets_feedback=self.webpackChunkplentymarkets_feedback||[]).push([[4],{9341:function(t,e,n){"use strict";var s=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&s((function(){n.call(null,e||function(){throw 1},1)}))}},2772:function(t,e,n){"use strict";var s=n(2109),r=n(1318).indexOf,a=n(9341),i=[].indexOf,o=!!i&&1/[1].indexOf(1,-0)<0,c=a("indexOf");s({target:"Array",proto:!0,forced:o||!c},{indexOf:function(t){return o?i.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},8234:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showEmptyRatings||t.counts.averageValue>0?n("div",[n("div",{staticClass:"feedback-stars-average",class:t.size},[n("div",{staticClass:"feedback-stars-background clearfix"},t._l(5,(function(t){return n("div",{key:"star_background_"+t,staticClass:"feedback-star"},[n("i",{staticClass:"fa fa-star"})])})),0),t._v(" "),n("div",{staticClass:"feedback-stars-overlay-wrap",style:{width:t.fill}},[n("div",{staticClass:"feedback-stars-overlay clearfix"},t._l(5,(function(t){return n("div",{key:"star_overlay_"+t,staticClass:"feedback-star"},[n("i",{staticClass:"fa fa-star"})])})),0)]),t._v(" "),t.showRatingsAmount?n("span",{class:t.size},[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.scrollTo(e)}}},[t._v("("+t._s(t.counts.ratingsCountTotal)+")")])]):t._e()])]):t._e()};s._withStripped=!0,n(2772);var r={inject:{itemId:{default:null}},props:{showEmptyRatings:Boolean,sizeOfStars:{type:String,default:"small"},showRatingsAmount:Boolean},data:function(){return{counts:{averageValue:0,ratingsCountTotal:0}}},computed:{fill:function(){return 100*this.counts.averageValue/5+"%"},size:function(){return-1!==this.sizeOfStars.indexOf("-stars")?this.sizeOfStars:this.sizeOfStars+"-stars"}},created:function(){var t=this;this.$root.$on("averageRecalc",(function(){t.getAverage()})),App.isShopBuilder||this.getAverage()},methods:{getAverage:function(){var t=this;return $.ajax({type:"GET",url:"/rest/feedbacks/feedback/helper/average/"+t.itemId,success:function(e){t.counts=e},error:function(t,e,n){console.error(n)}})},scrollTo:function(){var t=document.querySelector("[data-feedback]"),e=document.querySelector("#vue-app").offsetTop;if(t){for(;(!t.clientHeight||!t.classList.contains("widget"))&&t.parentElement;)t=t.parentElement;if(t){var n=t.getBoundingClientRect().top+window.scrollY-e;window.scrollTo({top:n,behavior:"smooth"})}}}}},a=(0,n(1900).Z)(r,s,[],!1,null,null,null);a.options.__file="resources/js/src/app/components/item/FeedbackAverage.vue";var i=a.exports},1900:function(t,e,n){"use strict";function s(t,e,n,s,r,a,i,o){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),s&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=c):r&&(c=o?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:l}}n.d(e,{Z:function(){return s}})}}]);
//# sourceMappingURL=feedback-4.min.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{2:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showEmptyRatings||e.counts.averageValue>0?s("div",[s("div",{staticClass:"feedback-stars-average",class:e.size},[s("div",{staticClass:"feedback-stars-background clearfix"},e._l(5,(function(e){return s("div",{staticClass:"feedback-star"},[s("i",{staticClass:"fa fa-star"})])})),0),e._v(" "),s("div",{staticClass:"feedback-stars-overlay-wrap",style:{width:e.fill}},[s("div",{staticClass:"feedback-stars-overlay clearfix"},e._l(5,(function(e){return s("div",{staticClass:"feedback-star"},[s("i",{staticClass:"fa fa-star"})])})),0)])]),e._v(" "),e.showRatingsAmount?s("span",{class:e.size},[s("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.scrollTo(t)}}},[e._v("(${ counts.ratingsCountTotal })")])]):e._e()]):e._e()};a._withStripped=!0;var r=function(e,t,s,a,r,n,i,o){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=s,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=c):r&&(c=o?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:l}}({props:["showEmptyRatings","sizeOfStars","showRatingsAmount"],inject:{itemId:{default:null}},data:()=>({counts:{averageValue:0,ratingsCountTotal:0}}),created(){var e=this;this.$root.$on("averageRecalc",(function(){e.getAverage()})),App.isShopBuilder||this.getAverage()},methods:{getAverage(){var e=this;return $.ajax({type:"GET",url:"/rest/feedbacks/feedback/helper/average/"+e.itemId,success:function(t){e.counts=t},error:function(e,t,s){console.error(s)}})},scrollTo(){var e=document.querySelector("[data-feedback]"),t=document.querySelector("#vue-app").offsetTop;if(e){for(;(!e.clientHeight||!e.classList.contains("widget"))&&e.parentElement;)e=e.parentElement;if(e){var s=e.getBoundingClientRect().top+window.scrollY-t;window.scrollTo({top:s,behavior:"smooth"})}}}},computed:{fill(){var e=100*this.counts.averageValue/5;return e+="%"},size(){return-1!==this.sizeOfStars.indexOf("-stars")?this.sizeOfStars:this.sizeOfStars+"-stars"}}},a,[],!1,null,null,null);r.options.__file="resources/js/src/app/components/item/FeedbackAverage.vue";t.default=r.exports}}]);
//# sourceMappingURL=feedback-1.min.js.map